# PyCLI

Python CLI applications with classes and typing

### Status: work in progress
#### This software is not ready for production usage. Use it at your own risk



> Click is good but you need to compose commands with a lot of decorators. Fire is good for fast prototyping but its full of magic underhood. So I decided to try to write a new CLI framework. Its inspired by [spf13/cobra](https://github.com/spf13/cobra) and written with an emphasis on code clarity and using as little magic as possible.

## TL;DR

Minimal working application:

```python3
exit(
    pycli.Application(
        "example", 
        "Example application made with PyCLI"
    ).run()
)
```

Example command:

```python3
class Foo(pycli.Command):
    short = "Prints 'foo'"
    long = "Prints 'foo' to stdout"
    opts = [
        pycli.Option[bool](
            "verbose", 
            ["-v", "--verbose"], 
            "Print more information", 
            is_flag=True)
    ]

    def exec(self, opts: dict) -> int:
        if opts["verbose"]:
            print("Printing 'foo'")
        print("foo")
        return 0

app.with_commands(Foo()).run()
```

## Features

* Typed options with nargs
* Flag positions has no matter
* Autogenerated help
* Customizable help and error messages with jinja templates
* Lifecycle hooks (WIP)
* Interactive mode (WIP)

## TODO

- [ ] Unit-tests
- [ ] Usage documentation
- [ ] WIP-features